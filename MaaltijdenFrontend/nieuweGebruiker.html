<!DOCTYPE html>
<html>


    <script>

        function userPosten() {
            var userArray = {};



            userArray.userfirstName = document.getElementById("userFirstName").value;
            userArray.userLastName = document.getElementById("userLastName").value;
            userArray.userAge = document.getElementById("userAge").value;
            userArray.userPW = document.getElementById("userPW").value
            userArray.userWeight = document.getElementById("userWeight").value;
            userArray.userLength = document.getElementById("userLength").value;

            var userArrayJSON = JSON.stringify(userArray);

            userPost(userArrayJSON);
            function userPost(data) {
                var xhr = new XMLHttpRequest();
                console.log(xhr);
                xhr.onreadystatechange = function () {
                    if (this.readyState == 4 && xhr.status == "200") {
                        console.log("user is verstuurd")
                    }
                }
                xhr.open("POST", "http://www.localhost:8082/allUsers", true);
                xhr.setRequestHeader("Content-Type", "application/json");
                xhr.send(data);
            }
        }

        function userOphalen() {
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    var userLijstJSON = this.responseText;
                    var userLijst = JSON.parse(userLijstJSON)
                    console.log("Zie hier al uw gebruikers");
                    console.log(userLijst);
                }
            }

            xhr.open("GET", "http://localhost:8082/allUsers", true);
            xhr.send();



        }

        function BMIBerekenen() {
            //console.log("BMI wordt berekend")
            var gewicht = document.getElementById("userWeight").value;
            var lengte = document.getElementById("userLength").value;
            var BMIvariabele = gewicht / ((lengte / 100) * (lengte / 100));
            console.log(BMIvariabele);
            BMIvariabele = Math.round(BMIvariabele * 100) / 100;
            var persoonNaamPrintLocatie = document.getElementById("persoonsGegegvens");
            var persoonNaam = document.getElementById("userFirstName").value;
            console.log(persoonNaam)
            persoonNaamPrintLocatie.innerHTML = "Welkom " + persoonNaam + ", uw BMI is:";
            var printBMIteHoogOfTeLaag = document.getElementById("BMIteHoogofLaag");
            if (BMIvariabele < 18) {
                var BMIPrintLocatie = document.getElementById("BMIRood");
                BMIPrintLocatie.innerHTML = BMIvariabele;
                printBMIteHoogOfTeLaag.innerHTML = "Uw BMI is te laag"
            } else if (BMIvariabele > 25) {
                var BMIPrintLocatie = document.getElementById("BMIRood");
                BMIPrintLocatie.innerHTML = BMIvariabele;
                printBMIteHoogOfTeLaag.innerHTML = "U bent te zwaar"
            } else {     
                var BMIPrintLocatie = document.getElementById("BMI");
                BMIPrintLocatie.innerHTML = BMIvariabele;
                printBMIteHoogOfTeLaag.innerHTML = "Uw gewicht is niet het probleem"
            }





        }


    </script>

<head>

        <script src="jquery-3.4.1.js"></script>
        <link rel="stylesheet" href="styleSheet.css">
 
 </head>

<body>



    <body>
        <h3 align='right'> Current user: Ipsum Lorum</h3>
        <form action=index.html>
            <button class="button2"><span> &#127968 </span></button>
        </form>
        <form action=nieuweGebruiker.html>
            <button class="button"><span>Nieuwe Gebruiker / Inloggen </span></button>
        </form>

        <form action=Schema.html>
            <button class="button"><span>Mijn Schema's</span></button>
        </form>

        <form action=Maaltijden.html>
            <button class="button"><span>Mijn maaltijden</span></button>
        </form>

        <form action=Doel.html>
            <button class="button"><span>Mijn Doel</span></button>
        </form>

    </body>




    <br>
    <!-- <button class="buttonKlein" onclick='userOphalen()' >  <span> Laat gebruiker zien</span> </button> -->
    <br>

    <h2 class="tekstFont"> Maak hier een nieuwe gebruiker aan </h2>

    <input type="text" value="" placeholder="Voornaam" id="userFirstName" ; />
    <br>
    <input type="text" value="" placeholder="Achternaam" id="userLastName" ; />
    <br>
    <input type="text" value="" placeholder="Leeftijd" id="userAge" ; />
    <br>
    <input type="text" value="" placeholder="Gewicht" id="userWeight" ; />
    <br>
    <input type="text" value="" placeholder="Lengte" id="userLength" ; />
    <br>
    <input type="text" value="" placeholder="Wachtwoord" id="userPW" ; />
    <br>

    <button class="buttonKlein" onclick='userPosten();BMIBerekenen()'><span> Nieuwe Gebruiker Aanmaken</span> </button>



    <div class="tekstFont" id="persoonsGegegvens" align='center'>
        <!--Welkom-->
</div>
    <div class="tekstFont" id="BMI" align='center'><!--Hier wordt uw BMI geprint--></div>
    <div class="tekstFontGroen" id="BMIGroen" align='center'><!--Hier wordt uw BMI geprint--></div>
    <div class="tekstFontRood" id="BMIRood" align='center'><!--Hier wordt uw BMI geprint--></div>

    <div id="BMIteHoogofLaag" class="tekstFont" align='center'></div>










</body>

</html>